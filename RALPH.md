# Ralph in Cursor

Ralph - техника для автономной разработки с AI. Агент выбирает задачи из PRD, выполняет их по одной, коммитит и обновляет прогресс.

## Быстрый старт

```bash
# Одна итерация (интерактивно)
./ralph-once.sh

# Автономный режим (10 итераций)
./afk-ralph.sh 10
```

## CLI скрипты

### `ralph-once.sh` - Human-in-the-loop

Запускает одну итерацию Ralph в интерактивном режиме:

```bash
./ralph-once.sh
```

Ты видишь что делает агент, можешь остановить если что-то пошло не так.

### `afk-ralph.sh` - AFK режим

Запускает N итераций подряд автономно:

```bash
./afk-ralph.sh 5   # 5 итераций
./afk-ralph.sh 20  # 20 итераций
```

Агент остановится когда:
- Все задачи в PRD выполнены
- Достигнуто N итераций
- Произошла ошибка

## Cursor Commands (альтернатива)

В IDE можно использовать команды вместо CLI:

- `/ralph` - одна итерация
- `/ralph-plan` - создание/редактирование PRD
- `/ralph-status` - проверка прогресса

## Структура файлов

```
pesiki-bot/
├── PRD.md              # Документ с требованиями
├── progress.txt        # Лог выполненных задач
├── ralph-once.sh       # CLI: одна итерация
├── afk-ralph.sh        # CLI: автономный цикл
└── .cursor/
    ├── commands/       # Cursor команды
    └── rules/          # Правила для Ralph
```

## Как это работает

1. **PRD.md** содержит задачи как чекбоксы `- [ ]`
2. Ralph читает PRD и находит первую незавершённую задачу
3. Реализует её
4. Отмечает `- [x]` в PRD
5. Добавляет запись в progress.txt
6. Делает git commit
7. Повторяет (если AFK режим)

## Советы

1. **Маленькие задачи** - одна задача = один коммит
2. **Tracer bullets** - начни с end-to-end слайса
3. **Проверяй коммиты** - особенно первые итерации
4. **Чёткий PRD** - чем яснее, тем лучше результат

## Флаги cursor agent

| Флаг | Описание |
|------|----------|
| `-f, --force` | Автоматически одобряет команды |
| `-p, --print` | Режим печати (для скриптов) |
| `--workspace` | Рабочая директория |
| `--model` | Выбор модели (gpt-5, sonnet-4, etc) |
